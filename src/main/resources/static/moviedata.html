<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>專題作業-電影網站</title>
    <link rel="stylesheet" type="text/css" href="moviedata.css"/>
    <link rel="stylesheet" href="table.scss">
    <link rel="stylesheet" href="muen.css">
    <script src="jquery-1.11.3.js"></script>
    <script src="index.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
        <!-- 引入axios套件，用來透過HTTP協定在網頁內呼叫後端的API -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <!-- 引入Vue.js -->
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body id ="app">
<div class="all">
    <header id="header1">
        
        
        <form onsubmit="event.preventDefault();" role="search">
            <label for="search"><img src="img/2logo.png" />Movies</label>
            <input id="search" type="search" placeholder="Search..." autofocus required />
            <button type="submit">Go</button>
        </form>
        

        <input type="checkbox" id="active">
    <label for="active" class="menu-btn"><span></span></label>
    <label for="active" class="close"></label>
    <div class="wrapper">
    <ul>

<li><a href="watching_movie.html">已看過清單</a></li>
<li><a href="rating_movie.html">已評分過清單</a></li>
<li><a href="#">尋找影片</a></li>
<li><a href="index.html">回首頁</a></li>
<li><a href="login.html">登入</a></li>
</ul>
</div>
</div>
    </header>
     <div id="moviedata">
    <div id="content">
    <div id="div3">
        <img src="img/aa.png">
    </div> 
    <div id="div1">
        <iframe src="https://player.vimeo.com/video/165197924?color=ffffff&title=0&byline=0&portrait=0"></iframe>
    
        <div id="divrating">
            <div id="logorating"><img src="img/star.png" />網站評分</div>
            <div id="rating">評分9/10</div>
        </div>
        <div id="div2rating">
            <div id="logorating"><img src="img/good.png" />你的評分</div>
            <div id="rating">評分9/10</div>
        </div>
    </div>
    </div> 
  
    <div id="div4">動作片 行動 冒險</div>
    <div id="div5">
        <div id="description">簡介：《美國隊長》（英語：Captain America: The First Avenger）是一部於2011年上映的美國超級英雄電影，改編自漫威漫畫旗下的超級英雄美國隊長的故事，由漫威影業製作，並由派拉蒙影業負責出品及發行[a]。該片為漫威電影宇宙系列中的第5部作品，亦為最後一部由派拉蒙影業製作及發行的漫威電影宇宙的作品。喬·約翰斯頓執導，克里斯多佛·馬庫斯與史蒂芬·麥費利共同編劇，由克里斯·伊凡、湯米·李·瓊斯、雨果·威明、海莉·艾特沃、賽巴斯汀·史坦、多米尼克·庫珀、尼爾·麥克唐納、德瑞克·路克及史丹利·圖奇主演。背景主要設定於二次世界大戰期間，講述了史蒂芬·羅傑斯，一位來自布魯克林的體弱男孩的故事，史蒂芬被注入血清後，被改造成了超級戰士「美國隊長」，而且他必須奮力阻止紅骷髏憑藉「宇宙魔方」來統治世界的陰謀。</div>
        <div id="director">導演：菲爾·洛德克里斯托弗·米勒戴夫·卡拉漢姆</div>
        <div id="cast">巨星：克里斯伊凡</div>
    </div>
</div>
    <footer id="footer1">
        <div id="user_name">會員帳號</div>
        <div id="user_comment">顯示評論</div>
    </footer>
</div>

<script src="js/jquery.magnific-popup.js" type="text/javascript"></script>
</body>
<script lang="javascript">
    //初始化 vue
    const { createApp } = Vue
    
    createApp({
    data() {
        return {
        islogin : true,
        username : "",
        moviedata: {},
        
        }
    },
    mounted() {
        axios.get("/moviedata")
        .then(   (response) =>  {
            // get完成後收到的資料可以在這裡處理
            console.log(response);
    
            // 將api的電影圖片存到Vue建立的movieimg變數
            this.moviedata = response.data.data;
        })
        .catch( (error) => {
        console.log(error);
        });
        
           
        
        
           const queryString = window.location.search
           console.log(queryString);
           console.log('Hello Javascript');
    
           //建立參數解析物件
           const urlParams = new URLSearchParams(queryString);
           this.username = urlParams.get('username');
           this.islogin = urlParams.get('islogin');
           console.log(username);
           console.log("islogin=" + this.islogin);
           //取得username，islogin變數 
            
            //傳ＩＤ給moivedataControllerID
            axios.get("/moviedata?id=" + id)
					.then((response) => {
						console.log(response);
						if (response.data.code == 0) {
							this.moviedata = response.data.data;
						}
					})
					.catch((error) => {
						console.log(error);
					});
           
    
        
       }
    
    }).mount('#app') 
    
    
    
        
        
         
       
        
        
        
        
        </script>
</html> 